# bot

# Telegram Registration Bot

Telegram-бот для приёма заявок на вступление в канал с:
- явным согласием на обработку персональных данных (ФЗ-152)
- передачей заявки администратору
- ручным одобрением или отклонением
- одноразовой invite-ссылкой
- без хранения данных

---

## 1. Требования

- Docker 20+
- Docker Compose
- Telegram Bot Token
- Telegram ID администратора
- ID Telegram-канала

---

## 2. Подготовка

### 2.1 Создание бота
1. Напишите `@BotFather`
2. Создайте бота (`/newbot`)
3. Получите `BOT_TOKEN`

### 2.2 Узнать ADMIN_ID
Напишите боту `@userinfobot` или используйте `@getmyid_bot`

### 2.3 Узнать CHANNEL_ID
- Добавьте бота в канал администратором
- Используйте `@getmyid_bot` или временный лог `message.chat.id`

---

## 3. Настройка

Откройте `bot.py` и укажите:

```python
BOT_TOKEN = "ВАШ_ТОКЕН"
ADMIN_ID = 123456789
CHANNEL_ID = -100XXXXXXXXXX
```

---

## 4. Запуск через Docker
```bash
docker compose build
docker compose up -d
```

Проверка логов:
```bash
docker logs -f telegram-registration-bot
```

---

## 5. Пользовательский сценарий

- Пользователь пишет /start
- Принимает согласие
- Вводит имя, адрес, телефон
- Получает сообщение «Заявка отправлена»
- Ожидает решения администратора

---

## 6. Сценарий администратора

1. Администратор получает заявку с кнопками:

✅ Одобрить
❌ Отклонить

2. При одобрении: пользователю автоматически отправляется одноразовая invite-ссылка

---

## 7. Юридические примечания

- Персональные данные не сохраняются
- Обработка ограничена одной целью
- Согласие выражено явно
- Передача данных только администратору канала